((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;a=jQuery,m={distance:{scroll:3,hold:3},time:{hold:300}},q={},q.start={},q.last={},q.gestures={},q.gesture_detected={},i=function(){return a(this).off(".fingers"),a(this).on("touchstart.fingers",h),a(this).on("touchmove.fingers",g),a(this).on("touchend.fingers",f)},j=function(){return a(this).off(".fingers")},a.event.special.pullup={setup:i,teardown:j},a.event.special.pulldown={setup:i,teardown:j},a.event.special.pullright={setup:i,teardown:j},a.event.special.pullleft={setup:i,teardown:j},a.event.special.hold={setup:i,teardown:j},a.event.special.tap={setup:i,teardown:j},a(document).ready(function(){return a(document).bind("touchstart.fingers",e),a(document).bind("touchmove.fingers",d),a(document).bind("touchend.fingers",c)}),p=function(a){return q.start=k(a),q.last=Object.create(q.start),q.gesture_detected=null,q.gestures={},q.absolute_dx=0,q.absolute_dy=0},o=function(a){return q.last=k(a),q.absolute_dx=q.last.x-q.start.x,q.absolute_dy=q.last.y-q.start.y},n=function(a){},h=function(b){return q.dx=0,q.dy=0,delay(m.time.hold,function(){var c;if(!q.gesture_detected){console.log("gesture detected by time"),c=m.distance.hold,q.gestures.hold=q.absolute_dx<=c&&q.absolute_dy<=c,l();if(q.gestures.hold)return r(a(b.target))}}),!0},g=function(c){var d;return d=m.distance.hold,!q.gesture_detected&&(q.absolute_dx>d||q.absolute_dy>d)&&(console.log("gesture detected by moving"),l()),q.gesture_detected&&(q.dx=b(q.absolute_dx,"x"),q.dy=b(q.absolute_dy,"y"),q.gestures.hold===!0?(q.gestures.pullup=!1,q.gestures.pulldown=!1,q.gestures.pullright=!1,q.gestures.pullleft=!1):(q.dy===0?(q.gestures.pullup=!1,q.gestures.pulldown=!1):q.dy>0?(q.gestures.pulldown=!0,q.gestures.pullup=!1):q.dy<0&&(q.gestures.pullup=!0,q.gestures.pulldown=!1),q.dx===0?(q.gestures.pullright=!1,q.gestures.pullleft=!1):q.dx>0?(q.gestures.pullright=!0,q.gestures.pullleft=!1):q.dx<0&&(q.gestures.pullleft=!0,q.gestures.pullright=!1),r(a(c.target)))),!0},b=function(a,b){var c,d;return d=q.gesture_detected[b]-q.start[b],c=a,a>d?c-=d:a<-d?c+=d:c=0,c},f=function(b){var c;return Object.keys(q.gestures).length===0&&(c=m.distance.hold,q.absolute_dx<=c&&q.absolute_dy<=c&&(q.gestures.tap=!0,l(),r(a(b.target)))),!0},l=function(){return q.gesture_detected=Object.create(q.last)},r=function(a){var b,c,d,e,f;c=Object.keys(q.gestures),f=[];for(d=0,e=c.length;d<e;d++)b=c[d],q.gestures[b]?f.push(a.trigger(b,q)):f.push(void 0);return f},e=function(a){return p(a),q.document_vertical_scrolling=!1,q.document_horizontal_scrolling=!1,!0},d=function(a){return o(a),Math.abs(q.absolute_dy)>m.distance.scroll&&(q.document_vertical_scrolling=!0),Math.abs(q.absolute_dx)>m.distance.scroll&&(q.document_horizontal_scrolling=!0),!0},c=function(a){return n(a),!0},k=function(a){return{x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY,time:new Date}},window.delay=function(a,b){return setTimeout(b,a)}})).call(this)