((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;a=jQuery,l={distance:{scroll:3,hold:3},time:{hold:300}},p={},p.start={},p.last={},p.gestures={},p.gesture_detected={},q={},i=function(){return a(this).off(".fingers"),a(this).on("touchstart.fingers",h),a(this).on("touchmove.fingers",g),a(this).on("touchend.fingers",f)},j=function(){return a(this).off(".fingers")},a.event.special.pullup={setup:i,teardown:j},a.event.special.pulldown={setup:i,teardown:j},a.event.special.pullright={setup:i,teardown:j},a.event.special.pullleft={setup:i,teardown:j},a(document).ready(function(){return a(document).bind("touchstart.fingers",e),a(document).bind("touchmove.fingers",d),a(document).bind("touchend.fingers",c)}),o=function(a){return p.start=k(a),p.last=Object.create(p.start),p.gesture_detected=null,p.gestures={},p.dx=0,p.dy=0,p.absolute_dx=0,p.absolute_dy=0},n=function(a){return p.last=k(a),p.absolute_dx=p.last.x-p.start.x,p.absolute_dy=p.last.y-p.start.y},m=function(a){},h=function(a){return delay(l.time.hold,function(){var a;if(!p.gesture_detected)return console.log("gesture detected by time"),a=l.distance.hold,p.gestures.hold=p.absolute_dx<=a&&p.absolute_dy<=a,p.gestures.hold&&console.log("holding"),p.gesture_detected=Object.create(p.last)}),!0},g=function(c){var d,e,f,g,h;f=l.distance.hold,!p.gesture_detected&&(p.absolute_dx>f||p.absolute_dy>f)&&(console.log("gesture detected by moving"),p.gesture_detected=Object.create(p.last));if(p.gesture_detected){p.dx=b(p.absolute_dx,"x"),p.dy=b(p.absolute_dy,"y"),p.gestures.hold===!0?(p.gestures.pullup=!1,p.gestures.pulldown=!1,p.gestures.pullright=!1,p.gestures.pullleft=!1):(p.dy===0?(p.gestures.pullup=!1,p.gestures.pulldown=!1):p.dy>0?(p.gestures.pulldown=!0,p.gestures.pullup=!1):p.dy<0&&(p.gestures.pullup=!0,p.gestures.pulldown=!1),p.dx===0?(p.gestures.pullright=!1,p.gestures.pullleft=!1):p.dx>0?(p.gestures.pullright=!0,p.gestures.pullleft=!1):p.dx<0&&(p.gestures.pullleft=!0,p.gestures.pullright=!1)),e=Object.keys(p.gestures);for(g=0,h=e.length;g<h;g++)d=e[g],p.gestures[d]&&a(c.target).trigger(d,p)}return!0},b=function(a,b){var c,d;return d=p.gesture_detected[b]-p.start[b],c=a,a>d?c-=d:a<-d?c+=d:c=0,c},f=function(a){return!0},e=function(a){return o(a),q.document_vertical_scrolling=!1,q.document_horizontal_scrolling=!1,!0},d=function(a){return n(a),Math.abs(p.absolute_dy)>l.distance.scroll&&(q.document_vertical_scrolling=!0),Math.abs(p.absolute_dx)>l.distance.scroll&&(q.document_horizontal_scrolling=!0),!0},c=function(a){return m(a),!0},k=function(a){return{x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY,time:new Date}},window.delay=function(a,b){return setTimeout(b,a)}})).call(this)