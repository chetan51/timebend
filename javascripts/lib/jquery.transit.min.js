/*!
 * jQuery Transit - CSS3 transitions and transformations
 * Copyright(c) 2011 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function(a){function b(a){var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1);if(a in k.style)return a;for(a=0;a<b.length;++a){var d=b[a]+c;if(d in k.style)return d}}function c(a){return"string"==typeof a&&this.parse(a),this}function d(a,b,c){!0===b?a.queue(c):b?a.queue(b,c):c()}function e(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||b,b=h(b),-1===a.inArray(b,c)&&c.push(b)}),c}function f(b,c,d,f){b=e(b),a.cssEase[d]&&(d=a.cssEase[d]);var g=""+j(c)+" "+d;0<parseInt(f,10)&&(g+=" "+j(f));var h=[];return a.each(b,function(a,b){h.push(b+" "+g)}),h.join(", ")}function g(b,d){d||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=l.transform,a.cssHooks[b]={get:function(d){return(a(d).css("transform")||new c).get(b)},set:function(d,e){var f=a(d).css("transform")||new c;f.setFromString(b,e),a(d).css({transform:f})}}}function h(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function i(a,b){return"string"==typeof a&&!a.match(/^[\-0-9\.]+$/)?a:""+a+b}function j(b){return a.fx.speeds[b]&&(b=a.fx.speeds[b]),i(b,"ms")}a.transit={version:"0.1.3",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var k=document.createElement("div"),l={},m=-1<navigator.userAgent.toLowerCase().indexOf("chrome");l.transition=b("transition"),l.transitionDelay=b("transitionDelay"),l.transform=b("transform"),l.transformOrigin=b("transformOrigin"),k.style[l.transform]="",k.style[l.transform]="rotateY(90deg)",l.transform3d=""!==k.style[l.transform],a.extend(a.support,l);var n=l.transitionEnd={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[l.transition]||null,k=null;a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"},a.cssHooks.transform={get:function(b){return a(b).data("transform")},set:function(b,d){var e=d;e instanceof c||(e=new c(e)),b.style[l.transform]="WebkitTransform"===l.transform&&!m?e.toString(!0):e.toString(),a(b).data("transform",e)}},a.cssHooks.transformOrigin={get:function(a){return a.style[l.transformOrigin]},set:function(a,b){a.style[l.transformOrigin]=b}},g("scale"),g("translate"),g("rotate"),g("rotateX"),g("rotateY"),g("rotate3d"),g("perspective"),g("skewX"),g("skewY"),g("x",!0),g("y",!0),c.prototype={setFromString:function(a,b){var d="string"==typeof b?b.split(","):b.constructor===Array?b:[b];d.unshift(a),c.prototype.set.apply(this,d)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=i(a,"deg")},rotateX:function(a){this.rotateX=i(a,"deg")},rotateY:function(a){this.rotateY=i(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=i(a,"deg")},skewY:function(a){this.skewY=i(a,"deg")},perspective:function(a){this.perspective=i(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&(this._translateX=i(a,"px")),null!==b&&(this._translateY=i(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=i(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[],c;for(c in this)this.hasOwnProperty(c)&&(l.transform3d||"rotateX"!==c&&"rotateY"!==c&&"perspective"!==c&&"transformOrigin"!==c)&&"_"!==c[0]&&(a&&"scale"===c?b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"));return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,e,g){var h=this,i=0,k=!0;"function"==typeof c&&(g=c,c=void 0),"function"==typeof e&&(g=e,e=void 0),"undefined"!=typeof b.easing&&(e=b.easing,delete b.easing),"undefined"!=typeof b.duration&&(c=b.duration,delete b.duration),"undefined"!=typeof b.complete&&(g=b.complete,delete b.complete),"undefined"!=typeof b.queue&&(k=b.queue,delete b.queue),"undefined"!=typeof b.delay&&(i=b.delay,delete b.delay),"undefined"==typeof c&&(c=a.fx.speeds._default),"undefined"==typeof e&&(e=a.cssEase._default);var c=j(c),m=f(b,c,e,i),r=a.transit.enabled&&l.transition?parseInt(c,10)+parseInt(i,10):0;if(0===r)return d(h,k,function(a){h.css(b),g&&g(),a()}),h;var s={},t=function(c){var d=!1,e=function(){d&&h.unbind(n,e),0<r&&h.each(function(){this.style[l.transition]=s[this]||null}),"function"==typeof g&&g.apply(h),"function"==typeof c&&c()};0<r&&n&&a.transit.useTransitionEnd?(d=!0,h.bind(n,e)):window.setTimeout(e,r),h.each(function(){0<r&&(this.style[l.transition]=m),a(this).css(b)})};return d(h,k,function(a){var b=0;"MozTransition"===l.transition&&25>b&&(b=25),window.setTimeout(function(){t(a)},b)}),this},a.transit.getTransitionValue=f})(jQuery)